{
  "hash": "8ff3604b657b1d5715d7460ba7e87a0f",
  "result": {
    "markdown": "---\ndate: 2022-04-19\nlayout: post\nimage: banner.jpg\nog_image: og_image.jpg\nauthor: Christoph Sax\ntitle: 'seasonal 1.9: Accessing composite output'\ntags:\n- r\n- time-series\n- seasonal adjustment\nbadges:\n- label: CRAN\n  bg: bg-warning\n---\n\n\nseasonal is an easy-to-use and full-featured R interface to X-13ARIMA-SEATS,\nthe seasonal adjustment software developed by the United States Census\nBureau.\nThe latest CRAN version of seasonal fixes several bugs and makes it easier to access output from multiple objects. See [here](https://github.com/christophsax/seasonal/blob/main/NEWS.md#190) for a complete list of changes.\n\n\n<figure>\n<img alt=\"Illustration\" src=\"banner.jpg\" style=\" width: 100%; height: auto\">\n<figcaption>\n  Photo by Aaron Burden\n</figcaption>\n</figure>\n\n<br>\n\n`seas()` is the core function of the [seasonal](https://cran.r-project.org/package=seasonal) package. By default, `seas()` calls\nthe automatic procedures of X-13ARIMA-SEATS to perform a seasonal adjustment\nthat works well in most circumstances:\n\n```r\nlibrary(seasonal)\nseas(AirPassengers)\n```\n\nFor a more detailed introduction, read our [article in the *Journal of\nStatistical Software*](https://doi.org/10.18637/jss.v087.i11).\n\n### Multiple series adjustment\n\nThe previous version has introduced [the adjustment of multiple series](https://www.cynkra.com/blog/2021-03-09-seasonal-1.8/) in a single call to `seas()`. This has removed the need for loops or `lapply()` in such cases and finally brought the *composite* spec to seasonal.\n\nAs [Brian Monsell](https://github.com/christophsax/seasonal/issues/278) pointed out, this was not enough to access the output from the composite spec. The latest  [CRAN version](https://cran.r-project.org/package=seasonal) fixes this problem.\n\nMultiple adjustments can be performed by supplying multiple time series as an `\"mts\"` object:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(seasonal)\nm0 <- seas(cbind(fdeaths, mdeaths), x11 = \"\")\nfinal(m0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          fdeaths  mdeaths\nJan 1974 614.1235 1598.740\nFeb 1974 542.3500 1492.127\nMar 1974 613.5029 1443.238\nApr 1974 591.5725 1694.643\nMay 1974 607.4970 1696.021\nJun 1974 543.8415 1558.886\nJul 1974 597.0745 1663.176\nAug 1974 587.0533 1623.498\nSep 1974 588.2693 1741.394\nOct 1974 735.6666 1735.516\nNov 1974 602.0218 1665.590\nDec 1974 496.3985 1394.097\nJan 1975 564.0055 1560.605\nFeb 1975 591.0320 1708.763\nMar 1975 585.7739 1652.994\nApr 1975 581.5294 1671.265\nMay 1975 537.8055 1588.605\nJun 1975 584.3284 1600.979\nJul 1975 566.4872 1541.099\nAug 1975 617.1197 1623.445\nSep 1975 516.4781 1521.497\nOct 1975 559.0481 1577.200\nNov 1975 561.6315 1602.659\nDec 1975 580.9778 1569.692\nJan 1976 519.8106 1477.855\nFeb 1976 882.3725 2180.616\nMar 1976 674.5057 1744.114\nApr 1976 467.4502 1366.628\nMay 1976 509.7854 1344.809\nJun 1976 553.5233 1434.662\nJul 1976 503.2795 1447.952\nAug 1976 494.2373 1383.932\nSep 1976 529.1840 1453.496\nOct 1976 570.4128 1435.912\nNov 1976 590.4285 1540.551\nDec 1976 587.0971 1572.631\nJan 1977 583.2427 1607.153\nFeb 1977 498.9514 1287.403\nMar 1977 500.4632 1306.324\nApr 1977 569.2076 1685.581\nMay 1977 565.6470 1405.231\nJun 1977 509.3196 1432.968\nJul 1977 548.4062 1414.216\nAug 1977 523.6985 1444.945\nSep 1977 563.3014 1402.720\nOct 1977 495.6653 1427.458\nNov 1977 453.9859 1307.828\nDec 1977 502.3045 1268.618\nJan 1978 535.2658 1415.724\nFeb 1978 633.7605 1790.002\nMar 1978 559.2936 1469.883\nApr 1978 485.5062 1343.715\nMay 1978 590.4080 1509.166\nJun 1978 574.4467 1464.288\nJul 1978 571.2263 1428.398\nAug 1978 542.3579 1424.622\nSep 1978 551.2099 1422.428\nOct 1978 557.6905 1399.404\nNov 1978 479.8979 1199.762\nDec 1978 550.4253 1397.023\nJan 1979 548.9834 1557.853\nFeb 1979 576.9922 1425.717\nMar 1979 549.3468 1393.788\nApr 1979 546.4590 1449.784\nMay 1979 525.9881 1359.843\nJun 1979 550.2481 1330.113\nJul 1979 533.7558 1373.156\nAug 1979 566.6884 1381.653\nSep 1979 552.6500 1377.175\nOct 1979 533.9571 1337.640\nNov 1979 557.9707 1414.101\nDec 1979 475.5049 1038.506\n```\n:::\n:::\n\n\nThis performs two seasonal adjustments, one for `fdeaths` and one for `mdeaths`. The [vignette on multiple adjustments](https://cran.r-project.org/web/packages/seasonal/vignettes/multiple.html) describes how to specify options for individual series.\n\n### Accessing composite output\n\nThe `composite` argument is a list with an X-13 specification applied to the aggregated series:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- seas(\n  cbind(mdeaths, fdeaths),\n  composite = list(),\n  series.comptype = \"add\"\n)\n```\n:::\n\n\nWith version 1.9 can now use `out()` to access the output of the composite spec:\n\n```r\nout(m1)\n```\n\nWe can also use `series()`, e.g., to access the final, indirectly adjusted series via the `composite` spec (see `?series` for all available series):\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseries(m1, \"composite.indseasadj\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          Jan      Feb      Mar      Apr      May      Jun      Jul      Aug\n1974 2172.614 2053.613 2057.679 2284.821 2260.974 2105.191 2240.895 2185.517\n1975 2098.251 2298.581 2213.878 2256.802 2111.628 2181.738 2098.883 2219.083\n1976 1969.128 3078.359 2373.028 1846.802 1851.167 1983.231 1943.369 1872.025\n1977 2132.860 1807.832 1795.898 2262.793 1957.817 1940.262 1949.784 1953.665\n1978 1908.154 2431.050 2007.252 1830.715 2077.654 2033.120 1987.875 1956.487\n1979 2061.627 1997.557 1925.365 1984.834 1885.778 1882.208 1903.203 1937.474\n          Sep      Oct      Nov      Dec\n1974 2296.345 2395.347 2291.835 2013.749\n1975 2024.988 2100.543 2181.495 2234.826\n1976 1967.742 1973.567 2151.597 2199.389\n1977 1946.642 1894.848 1807.119 1808.051\n1978 1959.824 1928.748 1724.336 1966.847\n1979 1925.618 1846.713 1991.679 1517.027\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}